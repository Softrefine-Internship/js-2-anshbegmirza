<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3-Carousel</title>
  <style>
    /* write CSS here */
    *,
    *::after,
    *::before {
      margin: 0;
      padding: 0;
      box-sizing: inherit;
    }

    html {
      font-size: 62.5%;
      overflow: hidden;
    }

    body {
      background-color: #424242;

    }


    .btn {
      position: absolute;
      top: 50%;
      z-index: 2;
      border: none;
      cursor: pointer;
      font-size: 3rem;
      /* width: 5rem; */
      padding: 0 1rem;
      border-radius: 50%;
      background-color: rgba(124, 124, 124, 0.3);
      border: 3px solid transparent;
      color: #fff;
    }

    .btn span {
      display: block;
      margin-top: 1rem;
    }

    .btn:hover {
      border: 3px solid white;
    }

    .btn-next {
      top: 50%;
      right: 0;
      margin-right: 2rem;
    }

    .btn-prev {
      margin-left: 2rem;
    }

    .slideshow-container {
      position: relative;
      height: 100vh;
      width: 100vw;
    }

    .slides-container {
      display: flex;
      height: 100%;
      width: 100%;
    }

    .slide {
      transition: all .5s ease-in-out;
      flex: 1 0 100%;
    }

    .slide img {
      width: 100%;
      height: 100%;
      object-fit: cover;

    }

    .dots {
      display: inline-block;
      cursor: pointer;
      height: 2rem;
      width: 2rem;
      border-radius: 50%;
      background-color: #ffffff;
      opacity: 0.3;
      margin: 0 .5rem;
      transition: all .3s;
    }

    /* .dots:nth-child(1) {
      opacity: 1;
    } */

    .dots:hover {
      opacity: 1;
    }

    .slide-dots {
      display: flex;
      position: absolute;
      left: 47%;
      /* right: 50%; */
      bottom: 0;
      margin-bottom: 2rem;
      z-index: 3;
    }

    @media (max-width: 63em) {
      .slide-dots {
        left: 40%;
      }
    }

    @media (max-width: 29em) {
      .slide-dots {
        left: 33%;
      }
    }
  </style>
</head>

<body>
  <!-- Carousel container -->
  <section class="slideshow-container">
    <!-- Buttons to switch next or previous -->
    <button class="btn-prev btn">
      <span>
        <ion-icon name="chevron-back-outline"></ion-icon>
      </span>
    </button>
    <button class="btn-next btn">
      <span>
        <!-- &#8250 -->
        <ion-icon name="chevron-forward-outline"></ion-icon>
      </span>
    </button>
    <!-- Images -->
    <div class="slides-container">
      <figure class="slide"><img src="imgs/2.jpg" alt="green nature background"></figure>
      <figure class="slide"><img src="imgs/5.jpg" alt="galaxy image"></figure>
      <figure class="slide"><img src="imgs/1.jpg" alt="Moutains image"></figure>
      <figure class="slide"><img src="imgs/3.jpg" alt="moon image"></figure>
      <figure class="slide"><img src="imgs/4.jpg" alt="starry night"></figure>
    </div>
    <!-- Dots -->
    <div class="slide-dots">
      <div class="dots"></div>
      <div class="dots"></div>
      <div class="dots"></div>
      <div class="dots"></div>
      <div class="dots"></div>
    </div>
  </section>
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</body>
<script>
  // write javascript here
  'use strict';
  //Selecting the elements
  const nextBtn = document.querySelector('.btn-next');
  const prevBtn = document.querySelector('.btn-prev');
  const slideEl = document.querySelectorAll(".slide");
  const slideDotsEl = document.querySelectorAll('.dots');
  // console.log(slideEl);
  // console.log(slideDotsEl);

  let counter = 0;
  slideDotsEl[counter].style.opacity = 1;

  // fucntion to slide images
  const swipeImage = function () {
    for (let i = 0; i < slideEl.length; i++) {
      slideEl[i].style.transform = `translateX(${counter * -100}%)`;
      slideDotsEl[i].style.opacity = .3;
    }
    slideDotsEl[counter].style.opacity = 1;
  }
  //next image function
  const slideImageNext = function () {
    counter < slideEl.length - 1 ? counter++ : counter = 0;
    swipeImage();
  }
  //previous image function
  const slideImagePrev = function () {
    counter == 0 ? counter = slideEl.length - 1 : counter--
    swipeImage();
  }

  const buttonNumber = function (number) {
    counter = number;
    swipeImage();
  }

  for (let i = 0; i < slideDotsEl.length; i++) {
    slideDotsEl[i].addEventListener('click', function () {
      buttonNumber(i);
    })
  }

  nextBtn.addEventListener('click', slideImageNext);
  prevBtn.addEventListener('click', slideImagePrev);

</script>

</html>